---
import { FaAngleDown, FaGithub } from "react-icons/fa6";
import { LiaBarcodeSolid } from "react-icons/lia";
import { LuDownload } from "react-icons/lu";
import Link from "@/components/Link";
import Plot from "@/components/Plot";
import Layout from "@/layouts/Layout.astro";
import Table from "./_Table";
import hg19defs from "../../../../data/hg19.STRchive-disease-loci.TRGT.bed?url";
import hg38defs from "../../../../data/hg38.STRchive-disease-loci.TRGT.bed?url";
import ageOnset from "../../../../data/plots/age-onset.json";
import pathSize from "../../../../data/plots/path-size.json";
import data from "../../../../data/STRchive-database.json";
import t2tdefs from "../../../../data/T2T-chm13.STRchive-disease-loci.TRGT.bed?url";
---

<Layout title="Loci">
  <section>
    <h1><LiaBarcodeSolid />Loci</h1>

    Jump to:
    <Link to="#downloads" className="button-secondary"
      >Downloads<FaAngleDown /></Link
    >
    <Link to="#table" className="button-secondary">Table<FaAngleDown /></Link>
    <Link to="#plots" className="button-secondary">Plots<FaAngleDown /></Link>
  </section>

  <section>
    <h2 id="downloads">Downloads</h2>

    <Link
      to="https://github.com/dashnowlab/STRchive/tree/main/data"
      className="button"
    >
      <FaGithub />Full Dataset
    </Link>
    <br />
    <br />

    <Link to="https://github.com/PacificBiosciences/trgt">TRGT definitions</Link
    > for genotyping in PacBio HiFi reads:

    <br />
    <br />

    <Link to={hg19defs} className="button" download>hg19<LuDownload /></Link>
    <Link to={hg38defs} className="button" download>hg38<LuDownload /></Link>
    <Link to={t2tdefs} className="button" download>T2T-chm13<LuDownload /></Link
    >
  </section>

  <section>
    <h2 id="table">Table</h2>

    <p class="center">
      Table of all tandem repeat loci associated with Mendelian disease.
    </p>

    <Table client:load data={data} />
  </section>

  <section class="full">
    <h2 id="plots">Plots</h2>

    <p class="center">High-level, visual overview of loci.</p>

    <div class="plots">
      <div>
        <h3>Pathogenic Size Range</h3>
        <Plot
          client:only="react"
          data={pathSize.x.data}
          layout={pathSize.x.layout}
        />
      </div>
      <div>
        <h3>Age of Onset</h3>
        <Plot
          client:only="react"
          data={ageOnset.x.data}
          layout={ageOnset.x.layout}
        />
      </div>
    </div>
  </section>
</Layout>

<style>
  .plots {
    display: grid;
    grid-template-columns: 1fr 1fr;
    place-items: stretch;
    gap: 40px;
  }

  .plots h3 {
    margin-top: 0;
  }

  @media (max-width: 1000px) {
    .plots {
      grid-template-columns: 1fr;
    }
  }
</style>
